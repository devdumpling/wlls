---
---

<header class="fixed top-0 left-0 right-0 z-10 px-phi-4 py-phi-3 bg-ivory/80 dark:bg-ivory-dark/80 backdrop-blur-sm border-b border-sage-100 dark:border-bark-800">
  <div class="max-w-[65ch] mx-auto flex justify-between items-center">
    <nav class="flex gap-phi-4">
      <a 
        href="/" 
        data-key="0"
        class="text-sm font-mono text-bark-600 dark:text-bark-400 hover:text-sage-600 dark:hover:text-sage-400 transition-colors"
      >
        <span class="text-bark-400 dark:text-bark-600 mr-1">0:</span>home
      </a>
      <a 
        href="/lore"
        data-key="1" 
        class="text-sm font-mono text-bark-600 dark:text-bark-400 hover:text-sage-600 dark:hover:text-sage-400 transition-colors"
      >
        <span class="text-bark-400 dark:text-bark-600 mr-1">1:</span>lore
      </a>
      <a 
        href="/garden"
        data-key="2" 
        class="text-sm font-mono text-bark-600 dark:text-bark-400 hover:text-sage-600 dark:hover:text-sage-400 transition-colors"
      >
        <span class="text-bark-400 dark:text-bark-600 mr-1">2:</span>garden
      </a>
    </nav>
    
    <button
      id="theme-toggle"
      class="p-phi-2 text-bark-500 dark:text-bark-400 hover:text-sage-600 dark:hover:text-sage-400 transition-colors"
      aria-label="Toggle theme"
    >
      <span class="dark:hidden text-sm">ğŸŒ™</span>
      <span class="hidden dark:inline text-sm">â˜€ï¸</span>
    </button>
  </div>
</header>

<style>
  a.active {
    color: var(--color-sage-600);
  }
  
  .dark a.active {
    color: var(--color-sage-400);
  }
  
  .highlight {
    background-color: var(--color-sage-100);
    transition: background-color 200ms ease-out;
  }
  
  .dark .highlight {
    background-color: var(--color-sage-900);
  }
</style>

<script>
  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
    
    const key = e.key;
    if (key >= '0' && key <= '2') {
      e.preventDefault();
      const link = document.querySelector(`[data-key="${key}"]`) as HTMLAnchorElement;
      if (link) {
        link.classList.add('highlight');
        setTimeout(() => link.classList.remove('highlight'), 200);
        link.click();
      }
    }
  });
  
  // Active link highlighting
  const currentPath = window.location.pathname;
  document.querySelectorAll('nav a').forEach(link => {
    const href = link.getAttribute('href');
    if (
      (href === '/' && currentPath === '/') ||
      (href !== '/' && currentPath.startsWith(href))
    ) {
      link.classList.add('active');
    }
  });
  
  // Theme toggle
  const themeToggle = document.getElementById('theme-toggle');
  
  themeToggle?.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>